import * as winston from 'winston';
var defaultLevel = process.env.LOG_LEVEL || 'info';
var _a = winston.format, colorize = _a.colorize, json = _a.json, combine = _a.combine, timestamp = _a.timestamp, printf = _a.printf;
var myFormat = printf(function (_a) {
    var level = _a.level, message = _a.message, timestamp = _a.timestamp;
    // convert objects into strings
    if (['array', 'object'].includes(typeof message)) {
        message = JSON.stringify(message, null, 2);
    }
    return "[" + timestamp + "] " + level + ": " + message;
});
var combinedFormats = combine(timestamp({
    format: 'YYYY-MM-DD HH:mm:ss'
}), colorize(), json(), myFormat);
var logger = winston.createLogger({
    format: combinedFormats,
    level: defaultLevel,
    transports: [
        new winston.transports.Console({}),
    ],
});
export default logger;
//# sourceMappingURL=logger.js.map